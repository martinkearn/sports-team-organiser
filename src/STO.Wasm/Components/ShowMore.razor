<p>Showing @TotalItems items.</p>
    
@if (_showLongRunning)
{    
    <LongRunning />
}
else
{
    <div class="hstack gap-2">
        <a class="btn btn-primary" title="Show More" @onclick="CallParent"><i class="fa-solid fa-arrow-down"></i> Show @ItemsPerPage More</a>
    </div>
}

@code {
    [Parameter] public int TotalItems { get; set; }
    [Parameter] public int ItemsPerPage { get; set; }
    [Parameter] public EventCallback ParentPageCallback { get; set; }
    private bool _showLongRunning;

    private async Task CallParent()
    {		
        _showLongRunning = true;
        StateHasChanged();
		
        await Task.Delay(100); //This delay is required to force the UI refresh
        await ParentPageCallback.InvokeAsync();
        
        _showLongRunning = false;
    }
}